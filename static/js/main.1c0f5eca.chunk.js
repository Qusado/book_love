(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t){},60:function(e,t,c){},93:function(e,t){},94:function(e,t){},95:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(23),r=c.n(n),l=(c(60),c(61),c(5)),o=c(8),i=c(2),j=c.n(i),b=c(6),d=c(4);function m(){}var u=Object(a.createContext)({token:null,userId:null,login:m,logout:m,isAuthenticated:!1}),h=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),r=Object(d.a)(n,2),l=r[0],o=r[1];return{loading:c,request:Object(a.useCallback)(function(){var e=Object(b.a)(j.a.mark((function e(t){var c,a,n,r,l,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.length>1&&void 0!==i[1]?i[1]:"GET",a=i.length>2&&void 0!==i[2]?i[2]:null,n=i.length>3&&void 0!==i[3]?i[3]:{},s(!0),e.prev=4,a&&(a=JSON.stringify(a),n["Content-Type"]="application/json"),e.next=8,fetch(t,{method:c,body:a,headers:n});case 8:return r=e.sent,e.next=11,r.json();case 11:if(l=e.sent,r.ok){e.next=14;break}throw new Error(l.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return s(!1),e.abrupt("return",l);case 18:throw e.prev=18,e.t0=e.catch(4),s(!1),o(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:l,clearError:Object(a.useCallback)((function(){return o(null)}),[])}},O=c(0),x=function(e){var t=e.user;return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"prof_img",src:"http://localhost:5000"+"/".concat(t.photo)}),Object(O.jsxs)("h5",{className:"card-title",children:["@",t.name]})]})},p=c(28),v=c.n(p),f=v.a.create({baseURL:"http://localhost:5000"}),N=v.a.create({baseURL:"http://localhost:5000"});N.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(localStorage.getItem("token")),e}));var k=function(){var e=Object(a.useContext)(u).token,t=Object(a.useContext)(u).userId,c=h(),s=c.request,n=c.loading,r=Object(a.useState)(),o=Object(d.a)(r,2),i=o[0],m=o[1],p=Object(a.useState)(),v=Object(d.a)(p,2),k=v[0],g=v[1],_=Object(a.useCallback)(Object(b.a)(j.a.mark((function c(){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,f.get("/api/books/profile/myBooks",{params:{id_user:t},headers:{authorization:"Bearer "+e}}).then((function(e){var t=e.data;m(t)}));case 3:c.sent,c.next=8;break;case 6:c.prev=6,c.t0=c.catch(0);case 8:case"end":return c.stop()}}),c,null,[[0,6]])}))),[e,s]),w=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/api/persons/".concat(t)).then((function(e){var t=e.data;g(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,t,s]);return Object(a.useEffect)((function(){_(),w()}),[_,w]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h5",{className:"text-center color_block",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(O.jsx)("div",{className:"prof",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"line col-md-4",children:Object(O.jsx)("div",{children:!n&&k&&Object(O.jsx)(x,{user:k})})}),Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-7 text",children:[Object(O.jsx)("h6",{children:"\u041c\u043e\u0438 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u044b:"}),Object(O.jsx)("button",{className:"btn btn-sm btn-success m-1",children:" \u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u044f"}),Object(O.jsx)("button",{className:"btn btn-sm btn-info m-1",children:" \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(O.jsx)("button",{className:"btn btn-sm btn-light m-1",children:" \u041c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u044f"}),Object(O.jsx)("button",{className:"btn btn-sm btn-dark m-1",children:" \u0424\u0440\u0438\u043b\u0430\u043d\u0441"})]})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"text",children:[Object(O.jsxs)("h6",{children:[" ",Object(O.jsx)(l.b,{className:"link",to:"/profile/myBooks",children:"\u041c\u043e\u0438 \u043a\u043d\u0438\u0433\u0438"}),": ",!n&&i&&i.length]}),Object(O.jsxs)("button",{className:"btn btn-light m-1 add_but",children:[Object(O.jsx)(l.b,{className:"link",to:"/book/add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})," "]})]})})]})})]})})]})},g=c(20),_=c(16),w=function(){return Object(a.useCallback)((function(e){window.M&&e&&window.M.toast({html:e})}),[])},y=function(){var e=w(),t=Object(o.g)(),c=h(),s=c.loading,n=(c.request,c.error),r=c.clearError,l=Object(a.useState)({email:"",password:""}),i=Object(d.a)(l,2),m=i[0],u=i[1];Object(a.useEffect)((function(){e(n),r()}),[n,e,r]);var x=function(e){u(Object(_.a)(Object(_.a)({},m),{},Object(g.a)({},e.target.name,e.target.value)))},p=function(){var c=Object(b.a)(j.a.mark((function c(){var a;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,f.post("/api/persons/register",Object(_.a)({},m)).catch((function(t){return e(t.message)}));case 3:a=c.sent,a.data,t.push("/login"),c.next=10;break;case 8:c.prev=8,c.t0=c.catch(0);case 10:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(){return c.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"row col-12 justify-content-center",children:Object(O.jsx)("h5",{className:"text-center color_block",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(O.jsx)("div",{className:"row justify-content-md-center",children:Object(O.jsxs)("div",{className:"card col-8 offset-s3 fon_auth",children:[Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"email",className:"form-label b",children:"Email address"}),Object(O.jsx)("input",{type:"email",className:"form-control _req _email","aria-describedby":"emailHelp",id:"email",name:"email",onChange:x,value:m.email}),Object(O.jsx)("span",{className:""})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"password",className:"form-label b",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control _req _password",name:"password",id:"password",onChange:x,value:m.password}),Object(O.jsx)("span",{className:""})]}),Object(O.jsx)("span",{className:"_err-message-span"})]}),Object(O.jsx)("button",{className:" btn btn-light",onClick:p,disabled:s,children:"Sign in"})]})})]})},C=function(){var e=Object(a.useContext)(u),t=Object(o.g)(),c=w(),s=h(),n=s.loading,r=(s.request,s.error),i=s.clearError,m=Object(a.useState)({email:"",password:""}),x=Object(d.a)(m,2),p=x[0],v=x[1];Object(a.useEffect)((function(){c(r),i()}),[r,c,i]);var N=function(e){v(Object(_.a)(Object(_.a)({},p),{},Object(g.a)({},e.target.name,e.target.value)))},k=function(){var a=Object(b.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.post("/api/persons/login",Object(_.a)({},p)).catch((function(e){return c(e.data.message)})).then((function(t){return e.login(t.data.token,t.data.userId)}));case 3:a.sent,t.push("/profile"),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"row col-12 justify-content-center",children:Object(O.jsx)("h5",{className:"text-center color_block",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}),Object(O.jsx)("div",{className:"row justify-content-md-center",children:Object(O.jsxs)("div",{className:"card col-8 offset-s3 fon_auth",children:[Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"email",className:"form-label b",children:"Email address"}),Object(O.jsx)("input",{type:"email",className:"form-control _req _email",name:"email",id:"email","aria-describedby":"emailHelp",onChange:N,value:p.email}),Object(O.jsx)("span",{className:""})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"password",className:"form-label b",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control _req _password",name:"password",id:"password",onChange:N,value:p.password}),Object(O.jsx)("span",{className:""})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"",children:["\u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? ",Object(O.jsx)(l.c,{to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})]})]}),Object(O.jsx)("button",{className:"btn btn-light",onClick:k,disabled:n,children:"Login"})]})})]})},S=function(e){var t=e.ones,c=e.twos;return console.log(t),Object(O.jsxs)("div",{className:"row justify-content-md-center",children:[Object(O.jsx)("section",{className:"pt-4 pb-2 ",children:Object(O.jsx)("div",{className:"container carousel_body",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("h3",{className:"mb-3",children:"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u043d\u043e\u0432\u0438\u043d\u043a\u0438 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439"})}),Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("div",{id:"carouselExampleIndicators2",className:"carousel slide","data-ride":"carousel",children:Object(O.jsx)("div",{className:"carousel-inner",children:Object(O.jsx)("div",{className:"carousel-item active",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(t[0].id_book)),children:Object(O.jsxs)("div",{className:"card card_main",children:[Object(O.jsx)("h5",{children:t[0].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:t[0].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(t[0].images)})]})]})})}),Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(t[1].id_book)),children:Object(O.jsxs)("div",{className:"card h-100 card_main",children:[Object(O.jsx)("h5",{children:t[1].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:t[1].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(t[1].images)})]})]})})}),Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(t[2].id_book)),children:Object(O.jsxs)("div",{className:"card h-100 card_main",children:[Object(O.jsx)("h5",{children:t[2].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:t[2].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(t[2].images)})]})]})})}),Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(t[3].id_book)),children:Object(O.jsxs)("div",{className:"card h-100 card_main",children:[Object(O.jsx)("h5",{children:t[3].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:t[3].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(t[3].images)})]})]})})})]})})})})})]})})}),Object(O.jsx)("section",{className:"pt-4 pb-2 mb-4",children:Object(O.jsx)("div",{className:"container carousel_body",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6 header",children:Object(O.jsx)("h3",{className:"mb-3",children:"\u0424\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430"})}),Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("div",{id:"carouselExampleIndicators2",className:"carousel slide","data-ride":"carousel",children:Object(O.jsx)("div",{className:"carousel-inner",children:Object(O.jsx)("div",{className:"carousel-item active",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(c[0].id_book)),children:Object(O.jsxs)("div",{className:"card h-100 card_main",children:[Object(O.jsx)("h5",{children:c[0].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:c[0].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(c[0].images)})]})]})})}),Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(c[1].id_book)),children:Object(O.jsxs)("div",{className:"card h-100 card_main",children:[Object(O.jsx)("h5",{children:c[1].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:c[1].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(c[1].images)})]})]})})}),Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(c[2].id_book)),children:Object(O.jsxs)("div",{className:"card h-100 card_main",children:[Object(O.jsx)("h5",{children:c[2].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:c[2].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(c[2].images)})]})]})})}),Object(O.jsx)("div",{className:"col-md-3 mb-3",children:Object(O.jsx)(l.b,{className:"Nav_link",to:N.get("/books/".concat(c[3].id_book)),children:Object(O.jsxs)("div",{className:"card h-100 card_main",children:[Object(O.jsx)("h5",{children:c[3].title}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:c[3].demo}),Object(O.jsx)("img",{className:"im_carousel",src:"http://localhost:5000"+"/".concat(c[3].images)})]})]})})})]})})})})})]})})})]})},E=function(){var e=Object(a.useContext)(u).token,t=h(),c=t.request,s=t.loading,n=Object(a.useState)(),r=Object(d.a)(n,2),l=r[0],o=r[1],i=Object(a.useState)(),m=Object(d.a)(i,2),x=m[0],p=m[1],v=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/category/getOne/4").then((function(e){var t=e.data;o(t),console.log(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,c]),N=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/category/getOne/6").then((function(e){var t=e.data;p(t),console.log(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,c]);return Object(a.useEffect)((function(){v(),N()}),[v,N]),Object(O.jsx)("div",{className:"container",children:!s&&l&&x&&Object(O.jsx)(S,{ones:l,twos:x})})},B=function(){var e=Object(a.useContext)(u),t=e.userId,c=e.token,s=h(),n=s.request,r=s.loading,o=Object(a.useState)(),i=Object(d.a)(o,2),m=i[0],x=i[1],p=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/books/order/myBooks",{params:{id_user:t},headers:{authorization:"Bearer "+c}}).then((function(e){var t=e.data;x(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[c,n]);return Object(a.useEffect)((function(){p()}),[p]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h5",{className:"text-center color_block",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:!r&&m&&m.map((function(e,t){return Object(O.jsx)("div",{className:"col-md-4 mb-3",children:Object(O.jsxs)("div",{className:"card catalog",children:[Object(O.jsxs)(l.b,{className:"Nav_link",to:"/books/".concat(e.id_book),children:[" ",Object(O.jsx)("h2",{children:e.title})]}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:e.demo}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6",children:Object(O.jsxs)("button",{className:"btn but_price2",children:[e.price," p."]})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("button",{className:"btn btn-light card_button col-6 ",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})})]})]})]},t)})}))})})})]})},F=function(){var e=Object(a.useContext)(u),t=e.token,c=e.userId,s=h(),n=s.request,r=s.loading,o=Object(a.useState)(),i=Object(d.a)(o,2),m=i[0],x=i[1],p=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/books/favorites/myBooks",{params:{id_user:c},headers:{authorization:"Bearer "+t}}).then((function(e){var t=e.data;x(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[t,n]);return Object(a.useEffect)((function(){p()}),[p]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h5",{className:"text-center color_block",children:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0435"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:!r&&m&&m.map((function(e,t){return Object(O.jsx)("div",{className:"col-md-4 mb-3",children:Object(O.jsxs)("div",{className:"card catalog",children:[Object(O.jsxs)(l.b,{className:"Nav_link",to:"/books/".concat(e.id_book),children:[" ",Object(O.jsx)("h2",{children:e.title})]}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:e.demo}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)(l.b,{className:"",to:"#",children:Object(O.jsxs)("button",{className:"btn but_price2",children:[e.price," p."]})})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)(l.b,{className:"",to:"/toOrder/".concat(e.id_book),children:Object(O.jsx)("button",{className:"btn card_button btn-light m-1",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})})]})]})]},t)})}))})})})]})},I=function(){return Object(O.jsxs)("div",{className:"v42_205",children:[Object(O.jsx)("span",{className:"v45_0",children:"\u0412\u043e \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0432\u043e\u043b\u0448\u0435\u0431\u043d\u044b\u0445 \u0437\u0430\u043d\u044f\u0442\u0438\u0439, \u043d\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u043e\u043d\u043e \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e, \u043a\u0430\u043a \u043d\u0438\u043a\u043e\u0433\u0434\u0430. \u041d\u0430\u0448\u0430 \u043c\u0438\u0441\u0441\u0438\u044f - \u0434\u0430\u0442\u044c \u0432\u0430\u043c \u0442\u043e, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u043c\u0435\u043d\u043d\u043e \u0412\u042b"}),Object(O.jsx)("span",{className:"v44_0",children:"\u0420\u0430\u0437\u0432\u0438\u0432\u0430\u0439\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 LOVEBOOK"}),Object(O.jsx)("div",{className:"v43_2",style:{backgroundImage:"/images/v43_2.png"}})]})},q=function(e){var t=e.books;return Object(O.jsx)(O.Fragment,{children:t&&t.map((function(e,t){return Object(O.jsx)("div",{className:"col-md-3 mb-4",children:Object(O.jsxs)("div",{className:"card h-100 catalog",children:[Object(O.jsxs)(l.b,{className:"Nav_link",to:"/books/".concat(e.id_book),children:[" ",Object(O.jsx)("h6",{children:e.title})]}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("div",{className:"box_img",children:Object(O.jsx)("img",{className:"mini_book",src:"http://localhost:5000"+"/".concat(e.images)})}),Object(O.jsxs)("button",{className:"btn but_price2",children:[e.price," p."]})]})]},t)})}))})},z=c(22),D=c(99),L=c(98),T=function(e){Object(a.useContext)(u).token;var t=h(),c=(t.request,t.loading),s=Object(a.useState)(),n=Object(d.a)(s,2),r=n[0],l=n[1],o=Object(a.useState)([]),i=Object(d.a)(o,2),m=i[0],x=i[1],p=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/category/").then((function(e){var t=e.data;l(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[]);return Object(a.useEffect)((function(){p()}),[]),Object(O.jsx)("div",{className:"filter_box",children:Object(O.jsx)(D.a,{defaultActiveKey:"contact",id:"tab",children:Object(O.jsx)(L.a,{eventKey:"contact",title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",children:!c&&r&&r.map((function(t,c){return Object(O.jsxs)("div",{className:"form-check",children:[Object(O.jsx)("input",{className:"form-check-input",type:"checkbox",value:"".concat(t.id_cat),id:"flexCheckDefault",checked:-1!==m.indexOf(t.id_cat),onChange:function(){return function(t){var c=m.indexOf(t),a=Object(z.a)(m);-1===c?a.push(t):a.slice(c,1),x(a),e.handleFilters(a)}(t.id_cat)}},c),Object(O.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:t.title_cat})]})}))})})})},A=function(){var e=Object(a.useContext)(u).token,t=h(),c=t.request,s=t.loading,n=Object(a.useState)([]),r=Object(d.a)(n,2),l=r[0],o=r[1],i=Object(a.useState)({cats:[],price:[]}),m=Object(d.a)(i,2),x=m[0],p=m[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),k=N[0],g=N[1],w=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/books").then((function(e){var t=e.data;o(t),g(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,c]),y=function(e,t){var c=Object(_.a)({},x);c[t]=e,function(e){var t=[];l.filter((function(c){e.cats.forEach((function(e){c.cat_fk===e&&t.push(c)}))})),g(t)}(c),p(c)};return Object(a.useEffect)((function(){w()}),[w]),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row py-3",children:[Object(O.jsx)("div",{className:"col-9",children:Object(O.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:!s&&l||!s&&l&&k?Object(O.jsx)(q,{books:k}):Object(O.jsx)("h3",{})})}),Object(O.jsx)("div",{className:"col-3",children:Object(O.jsx)(T,{handleFilters:function(e){return y(e,"cats")}})})]})})},P=c(54),J=c(37),K=function(e){var t=e.csvData,c=e.fileName;return Object(O.jsx)("div",{children:Object(O.jsxs)("button",{className:"btn btn-success btn-lg pull-right",onClick:function(e){return function(e,t){var c={Sheets:{data:J.utils.json_to_sheet(e)},SheetNames:["data"]},a=J.write(c,{bookType:"xlsx",type:"array"}),s=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});P.saveAs(s,t+".xlsx")}(t,c)},children:[Object(O.jsx)("i",{className:"fa fa-file-excel-o"})," Export"]})})},U=function(){var e=Object(a.useContext)(u).token,t=h(),c=t.request,s=t.loading,n=Object(a.useState)(),r=Object(d.a)(n,2),l=r[0],o=r[1],i=Object(a.useState)(),m=Object(d.a)(i,2),x=(m[0],m[1],Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/books/statistic/owners_statistic").then((function(e){var t=e.data;o(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,c]));return Object(a.useEffect)((function(){x()}),[x]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{className:"thead-light",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),Object(O.jsx)("th",{scope:"col",children:"\u041a\u043e\u043b-\u0432\u043e \u043a\u043d\u0438\u0433"})]})}),Object(O.jsx)("tbody",{children:!s&&l&&l.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.books})]})}))})]})}),!s&&l&&Object(O.jsx)(K,{csvData:l,fileName:"Lox"})]}),Object(O.jsx)("div",{className:"row"})]})},M=function(){var e=Object(o.g)(),t=w(),c=Object(a.useContext)(u),s=c.userId,n=c.token,r=h(),l=r.request,i=r.loading,m=r.error,x=r.clearError,p=Object(a.useState)(),v=Object(d.a)(p,2),N=v[0],k=v[1],g=Object(a.useState)(),_=Object(d.a)(g,2),y=_[0],C=_[1],S=Object(a.useState)(),E=Object(d.a)(S,2),B=E[0],F=E[1],I=Object(a.useState)(),q=Object(d.a)(I,2),D=q[0],L=q[1],T=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/authors/",{params:{id_user:s},headers:{authorization:"Bearer "+n}}).then((function(e){var t=e.data;L(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[n,l]),A=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/publishers/",{params:{id_user:s},headers:{authorization:"Bearer "+n}}).then((function(e){var t=e.data;C(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[n,l]),P=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/category/",{params:{id_user:s},headers:{authorization:"Bearer "+n}}).then((function(e){var t=e.data;F(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[n,l]),J=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/genres/",{params:{id_user:s},headers:{authorization:"Bearer "+n}}).then((function(e){var t=e.data;k(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[n,l]);Object(a.useEffect)((function(){t(m),x(),J(),T(),A(),P()}),[J,T,A,P,m,t,x]);var K=function(){var c=Object(b.a)(j.a.mark((function c(){var a,r,l,o,i,b;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r=document.querySelector("form"),l=new FormData(r),(a=console).log.apply(a,["form"].concat(Object(z.a)(l))),o={method:"POST",headers:{Authorization:"Bearer ".concat(n),ContentType:"multipart/form-data",Accept:"application/json",type:"formData",user_id:s},body:l},c.next=7,fetch("http://localhost:5000/api/books/",o);case 7:return i=c.sent,c.next=10,i.json();case 10:b=c.sent,t(b.message),201===i.status&&e.push("/catalog"),c.next=17;break;case 15:c.prev=15,c.t0=c.catch(0);case 17:case"end":return c.stop()}}),c,null,[[0,15]])})));return function(){return c.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h5",{className:"text-center color_block",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"}),Object(O.jsx)("div",{className:"add_",children:Object(O.jsxs)("form",{className:"row",id:"form",children:[Object(O.jsxs)("div",{className:"col-7",children:[Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"title",className:"col-sm-2 col-form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("input",{type:"text",className:"form-control form-control-sm",id:"title",name:"title"})})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"author",className:"col-sm-2 col-form-label",children:"\u0410\u0432\u0442\u043e\u0440"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"multiple select example",id:"author",name:"author",children:!i&&D&&D.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_autor),children:e.fio},t)}))})})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"pub",className:"col-sm-2 col-form-label",children:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"Default select example",id:"pub",name:"pub",children:!i&&y&&y.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_pub),children:e.title_pub},t)}))})})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"gen",className:"col-sm-4 col-form-label",children:"\u0416\u0430\u043d\u0440\u044b"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"Default select example",id:"gen",name:"gen",children:!i&&N&&N.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_genres),children:e.title_genres},t)}))})})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"cat",className:"col-sm-4 col-form-label",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"Default select example",id:"cat",name:"cat",children:!i&&B&&B.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_cat),children:e.title_cat},t)}))})})]}),Object(O.jsx)("span",{className:"_err-message-span"}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"price",className:"col-sm-4 col-form-label",children:"\u0426\u0435\u043d\u0430"}),Object(O.jsx)("div",{className:"col-sm-8",children:Object(O.jsx)("input",{type:"number",className:"form-control form-control-sm",id:"price",name:"price"})})]}),Object(O.jsx)("span",{className:"_err-message-span"})]}),Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"demo",className:"col-sm-3 col-form-label",children:"\u0410\u043d\u043d\u043e\u0442\u0430\u0446\u0438\u044f"}),Object(O.jsx)("div",{className:"col-sm-9",children:Object(O.jsx)("textarea",{className:"form-control form-control-sm",name:"demo",id:"demo",rows:"3"})})]}),Object(O.jsx)("span",{className:"_err-message-span"})]})]})]}),Object(O.jsxs)("div",{className:"col-5",children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"file",className:"form-control-file",name:"images",id:"images",required:"required"})}),Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:"/images/45.png",className:"add_img"})}),Object(O.jsx)("div",{className:"add",children:Object(O.jsx)("button",{type:"button",className:"btn btn-light m-1 add_but",onClick:K,disabled:i,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})})]})]})})]})},R=function(){var e=w(),t=Object(o.g)(),c=Object(a.useContext)(u),s=c.token,n=c.userId,r=h(),l=r.request,i=r.loading,m=r.error,x=r.clearError,p=Object(a.useState)(),v=Object(d.a)(p,2),N=v[0],k=v[1],g=Object(a.useState)(),_=Object(d.a)(g,2),y=_[0],C=_[1],S=Object(a.useState)(),E=Object(d.a)(S,2),B=E[0],F=E[1],I=Object(a.useState)(),q=Object(d.a)(I,2),D=q[0],L=q[1],T=Object(a.useState)(),A=Object(d.a)(T,2),P=A[0],J=A[1],K=Object(a.useState)(),U=Object(d.a)(K,2),M=U[0],R=U[1],G=Object(a.useState)(),H=Object(d.a)(G,2),V=H[0],Q=H[1],W=Object(o.h)().id_book,X=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/books/".concat(W),{params:{id_user:n},headers:{authorization:"Bearer "+s}}).then((function(e){var t=e.data;J(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[]),Y=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/authors/".concat(W),{params:{id_user:n},headers:{authorization:"Bearer "+s}}).then((function(e){var t=e.data;R(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[]),Z=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/genres/".concat(W),{params:{id_user:n},headers:{authorization:"Bearer "+s}}).then((function(e){var t=e.data;Q(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[]),$=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/authors/",{params:{id_user:n},headers:{authorization:"Bearer "+s}}).then((function(e){var t=e.data;L(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[s,l]),ee=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/publishers/",{params:{id_user:n},headers:{authorization:"Bearer "+s}}).then((function(e){var t=e.data;C(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[s,l]),te=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/category/",{params:{id_user:n},headers:{authorization:"Bearer "+s}}).then((function(e){var t=e.data;F(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[s,l]),ce=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/genres/",{params:{id_user:n},headers:{authorization:"Bearer "+s}}).then((function(e){var t=e.data;k(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[s,l]);Object(a.useEffect)((function(){ce(),$(),ee(),te(),X(),e(m),x(),Y(),Z()}),[]);var ae=function(){var c=Object(b.a)(j.a.mark((function c(){var a,r,l,o,i,b;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r=document.querySelector("form"),l=new FormData(r),(a=console).log.apply(a,["form"].concat(Object(z.a)(l))),o={method:"PUT",headers:{Authorization:"Bearer ".concat(s),ContentType:"multipart/form-data",Accept:"application/json",type:"formData",user_id:n},body:l},c.next=7,fetch("http://localhost:5000"+"/api/books/update/".concat(W),o);case 7:return i=c.sent,c.next=10,i.json();case 10:b=c.sent,e(b.message),201===i.status&&t.push("/profile/myBooks"),c.next=17;break;case 15:c.prev=15,c.t0=c.catch(0);case 17:case"end":return c.stop()}}),c,null,[[0,15]])})));return function(){return c.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h5",{className:"text-center color_block",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"row",id:"form",children:[Object(O.jsxs)("div",{className:"col-7",children:[Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"title",className:"col-sm-2 col-form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("input",{type:"text",className:"form-control form-control-sm",id:"title",name:"title",value:!i&&P&&P.title})})]}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"author",className:"col-sm-2 col-form-label",children:"\u0410\u0432\u0442\u043e\u0440"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"select example",id:"author",name:"author",value:!i&&M&&M.y,children:!i&&D&&D.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_autor),children:e.fio},t)}))})})]}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"pub",className:"col-sm-2 col-form-label",children:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"Default select example",id:"pub",name:"pub",value:!i&&P&&P.pub_fk,children:!i&&y&&y.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_pub),children:e.title_pub},t)}))})})]}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"gen",className:"col-sm-2 col-form-label",children:"\u0416\u0430\u043d\u0440\u044b"}),Object(O.jsx)("div",{className:"col-sm-5",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"Default select example",id:"gen",name:"gen",value:!i&&V&&V.id_genre,children:!i&&N&&N.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_genres),children:e.title_genres},t)}))})})]}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"cat",className:"col-sm-2 col-form-label",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(O.jsx)("div",{className:"col-sm-5",children:Object(O.jsx)("select",{className:"form-control form-control-sm","aria-label":"Default select example",id:"cat",name:"cat",value:!i&&P&&P.cat_fk,children:!i&&B&&B.map((function(e,t){return Object(O.jsx)("option",{value:"".concat(e.id_cat),children:e.title_cat},t)}))})})]}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"price",className:"col-sm-2 col-form-label",children:"\u0426\u0435\u043d\u0430"}),Object(O.jsx)("div",{className:"col-sm-5",children:Object(O.jsx)("input",{type:"number",className:"form-control form-control-sm",id:"price",name:"price",value:!i&&P&&P.price})})]}),Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"demo",className:"col-sm-2 col-form-label",children:"\u0410\u043d\u043d\u043e\u0442\u0430\u0446\u0438\u044f"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("textarea",{className:"form-control form-control-sm",name:"demo",id:"demo",rows:"3",value:!i&&P&&P.demo})})]})]}),Object(O.jsxs)("div",{className:"col-5",children:[Object(O.jsxs)("div",{className:"mb-3 row",children:[Object(O.jsx)("label",{htmlFor:"formFile",className:"col-sm-2 col-form-label",children:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430"}),Object(O.jsx)("div",{className:"col-sm-10",children:Object(O.jsx)("input",{className:"form-control form-control-sm",type:"file",id:"images",name:"images"})})]}),Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:"/images/45.png",className:"add_img"})}),Object(O.jsx)("div",{className:"add",children:Object(O.jsx)("button",{type:"button",className:"btn btn-light m-1 add_but",onClick:ae,disabled:i,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})})]})]})})]})},G=function(e){var t=e.book,c=e.authors,a=e.pub,s=e.cat;return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsxs)("div",{className:"div_book",children:[Object(O.jsx)("div",{style:{overflow:"hidden"},children:Object(O.jsx)("img",{className:"book_img",src:"http://localhost:5000"+"/".concat(t.images)})}),Object(O.jsxs)("div",{className:"row text-center",children:[Object(O.jsx)(l.b,{className:"",to:"#",children:Object(O.jsxs)("button",{className:"btn but_price m-1",children:[t.price," p."]})}),Object(O.jsx)(l.b,{className:"",to:"/toOrder/".concat(t.id_book),children:Object(O.jsx)("button",{className:"btn but_book btn-light m-1",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})}),Object(O.jsx)(l.b,{className:"",to:"/toList/".concat(t.id_book),children:Object(O.jsx)("button",{className:"btn but_book btn-light m-1",children:"\u041e\u0442\u043b\u043e\u0436\u0438\u0442\u044c"})})]})]})}),Object(O.jsxs)("div",{className:"col-md-7",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"book_text",children:[Object(O.jsxs)("h6",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",t.title]}),Object(O.jsxs)("h6",{children:["\u0410\u0432\u0442\u043e\u0440: ",c[0].fio]}),Object(O.jsxs)("h6",{children:["\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e:",a[0].title_pub," "]})]}),Object(O.jsxs)("div",{className:"col-8 book_text tegs",children:[Object(O.jsx)("h6",{children:"\u0422\u0435\u0433\u0438:"}),Object(O.jsxs)("button",{className:"btn btn-light m-1",children:[" ",s[0].title_cat]})]})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"book_text",children:[Object(O.jsx)("h6",{children:"\u0410\u043d\u043d\u0442\u043e\u0442\u0430\u0446\u0438\u044f: "}),Object(O.jsxs)("span",{children:[t.demo," "]}),Object(O.jsx)("h6",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438: 0"})]})})]})]})})},H=function(){var e=Object(a.useContext)(u).token,t=h(),c=t.request,s=t.loading,n=Object(a.useState)(),r=Object(d.a)(n,2),l=r[0],i=r[1],m=Object(a.useState)(),x=Object(d.a)(m,2),p=x[0],v=x[1],N=Object(a.useState)(),k=Object(d.a)(N,2),g=k[0],_=k[1],w=Object(a.useState)(),y=Object(d.a)(w,2),C=y[0],S=y[1],E=Object(o.h)().id_book,B=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/books/".concat(E)).then((function(e){var t=e.data;_(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,E,c]),F=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/authors/".concat(E)).then((function(e){var t=e.data;S(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,E,c]),I=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/publishers/".concat(E)).then((function(e){var t=e.data;v(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,E,c]),q=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/category/".concat(E)).then((function(e){var t=e.data;i(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[e,E,c]);return Object(a.useEffect)((function(){B(),F(),I(),q()}),[B,F,I,q]),Object(O.jsx)("div",{className:"container",children:!s&&p&&l&&C&&g&&Object(O.jsx)(G,{book:g,authors:C,pub:p,cat:l})})},V=function(){var e=Object(a.useContext)(u),t=e.userId,c=e.token,s=h(),n=s.request,r=s.loading,o=Object(a.useState)(),i=Object(d.a)(o,2),m=i[0],x=i[1],p=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/api/books/profile/myBooks",{params:{id_user:t},headers:{authorization:"Bearer "+c}}).then((function(e){var t=e.data;x(t)}));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),[c,n]);return Object(a.useEffect)((function(){p()}),[p]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h5",{className:"text-center color_block",children:"\u041c\u043e\u0438 \u043a\u043d\u0438\u0433\u0438"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:!r&&m&&m.map((function(e,t){return Object(O.jsx)("div",{className:"col-md-4 mb-3",children:Object(O.jsxs)("div",{className:"card catalog",children:[Object(O.jsxs)(l.b,{className:"Nav_link",to:"/books/".concat(e.id_book),children:[" ",Object(O.jsx)("h2",{children:e.title})]}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:e.demo}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)(l.b,{className:"Nav_link col-6",to:"/book/delete/".concat(e.id_book),children:Object(O.jsx)("img",{className:"logo del",src:"/images/garbage.png"})}),Object(O.jsx)(l.b,{className:"Nav_link col-6 ",to:"/book/edit/".concat(e.id_book),children:Object(O.jsx)("img",{className:"logo edit",src:"/images/edit.png"})})]})]})]},t)})}))})})})]})},Q=function(){w();var e=Object(o.g)(),t=Object(a.useContext)(u),c=(t.token,t.userId,h()),s=(c.request,c.loading,c.error,c.clearError,Object(o.h)().id_book),n=Object(a.useCallback)(Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.delete("/api/books/delete/".concat(s));case 3:t.sent,e.push("/profile/myBooks"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]);return Object(a.useEffect)((function(){n()}),[]),Object(O.jsx)(O.Fragment,{})},W=function(){var e=Object(o.g)(),t=Object(a.useContext)(u),c=t.userId,s=t.token,n=h(),r=(n.request,n.loading,n.error,n.clearError,Object(o.h)().id_book),l=Object(a.useCallback)(Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.post("/api/books/toOrder/".concat(r),{},{params:{id_user:c},headers:{authorization:"Bearer "+s}});case 3:t.sent,e.push("/catalog"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]);return Object(a.useEffect)((function(){l()}),[]),Object(O.jsx)(O.Fragment,{})},X=function(){w();var e=Object(o.g)(),t=Object(a.useContext)(u),c=t.token,s=t.userId,n=h(),r=(n.request,n.loading,n.error,n.clearError,Object(o.h)().id_book),l=Object(a.useCallback)(Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.post("/api/books/toList/".concat(r),{},{params:{id_user:s},headers:{authorization:"Bearer "+c}});case 3:t.sent,e.push("/catalog"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]);return Object(a.useEffect)((function(){l()}),[]),Object(O.jsx)(O.Fragment,{})},Y=function(){var e=Object(o.g)(),t=Object(a.useContext)(u);return t.token?Object(O.jsx)("a",{className:"navbar-brand link",onClick:function(c){c.preventDefault(),t.logout(),e.push("/")},href:"/",children:"LogOut "}):Object(O.jsx)(O.Fragment,{})},Z="userData",$=function(){var e=Object(a.useContext)(u).token,t=h(),c=t.request,s=t.loading,n=Object(a.useState)(""),r=Object(d.a)(n,2),l=r[0],o=r[1],i=Object(a.useState)([]),m=Object(d.a)(i,2),x=m[0],p=m[1],v=Object(a.useState)([]),f=Object(d.a)(v,2),N=f[0],k=f[1],g=Object(a.useRef)(""),_=Object(a.useCallback)(Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("/api/books/","GET",null,{Authorization:"Bearer ".concat(e)});case 3:a=t.sent,p(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e,c]);return Object(a.useEffect)((function(){_()}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"d-flex col-6",children:[Object(O.jsx)("input",{className:"form-control me-2",ref:g,type:"search",id:"search",list:"variant",name:"search",placeholder:"Search","aria-label":"Search",onChange:function(){if(o(g.current.value),""!==l){var e=x.filter((function(e){return Object.values(e).join(" ").toLowerCase().includes(l.toLowerCase())}));k(e)}else k(x)},onInput:function(){for(var e=document.getElementById("search").value,t=document.getElementById("variant").childNodes,c=0;c<t.length;c++)if(t[c].value===e){document.location.href="/books/".concat(t[c].id);break}}}),Object(O.jsx)("datalist",{id:"variant",children:!s&&l&&N.map((function(e,t){return Object(O.jsx)("option",{value:e.title,id:e.id_book,children:e.title})}))})]})})},ee=function(){return Object(O.jsxs)("div",{className:"fixed-top",children:[Object(O.jsxs)("nav",{className:"navbar my-0",children:[Object(O.jsxs)("a",{className:"navbar-brand",href:"#",children:[Object(O.jsx)("div",{className:"v42_250",children:Object(O.jsx)("div",{className:"v42_251",style:{backgroundImage:"/images/v42_251.png"}})}),Object(O.jsx)(l.b,{className:"Nav_link text_align",to:"/",children:"LOVEBOOK"})]}),Object(O.jsx)($,{}),Object(O.jsx)("a",{className:"navbar-brand",href:"#",children:Object(O.jsx)(l.b,{className:"Nav_link",to:"/favs",children:Object(O.jsx)("div",{className:"v_favs",style:{backgroundImage:"/images/heart.png"}})})}),Object(O.jsx)("a",{className:"navbar-brand",href:"#",children:Object(O.jsx)(l.b,{className:"Nav_link",to:"/shop",children:Object(O.jsx)("div",{className:"v_shop",style:{backgroundImage:"shjp.png"}})})}),Object(O.jsx)("a",{className:"navbar-brand",href:"#",children:Object(O.jsx)(l.b,{className:"Nav_link",to:"/me",children:Object(O.jsx)("div",{className:"v_me",style:{backgroundImage:"images/pers.png"}})})}),Object(O.jsx)(Y,{})]}),Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("nav",{className:"nav nav-fill",id:"light",children:[Object(O.jsxs)("a",{className:"nav-item bar",children:[" ",Object(O.jsx)(l.b,{className:"Nav_link",to:"/",children:"\u0413\u041b\u0410\u0412\u041d\u0410\u042f"})]}),Object(O.jsx)("a",{className:"nav-item bar",children:Object(O.jsx)(l.b,{className:"Nav_link",to:"/catalog",children:"\u041a\u0410\u0422\u0410\u041b\u041e\u0413"})}),Object(O.jsx)("a",{className:"nav-item bar",children:Object(O.jsx)(l.b,{className:"Nav_link",to:"/statistic",children:"\u0421\u0422\u0410\u0422\u0418\u0421\u0422\u0418\u041a\u0410"})}),Object(O.jsx)("a",{className:"nav-item bar",children:Object(O.jsx)(l.b,{className:"Nav_link",to:"/about",children:"\u041e \u041d\u0410\u0421"})})]})})]})},te=function(){return Object(O.jsx)("nav",{className:"navbar fixed-bottom justify-content-center my-0",children:Object(O.jsxs)("div",{className:"container justify-content-center",children:[Object(O.jsx)("div",{className:"row col-12 justify-content-center",children:Object(O.jsx)("h3",{className:"text-center",children:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"})}),Object(O.jsxs)("div",{className:"row ",children:[Object(O.jsx)("div",{className:"v_inst col mx-3",style:{backgroundImage:"/images/instapng.png"}}),Object(O.jsx)("div",{className:"v_vk col mx-3",style:{backgroundImage:"/images/v43_2.png"}}),Object(O.jsx)("div",{className:"v_you col mx-3",style:{backgroundImage:"/images/youtube-play--v1.png"}}),Object(O.jsx)("div",{className:"v_tg col mx-3",style:{backgroundImage:"/images/telega.png"}})]}),Object(O.jsx)("div",{className:"row col-12 justify-content-center",children:Object(O.jsx)("h5",{className:"text-center",children:" \xa92021- lovebook - \u0412\u0430\u0448 \u043b\u044e\u0431\u0438\u043c\u044b\u0439 \u043c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"})})]})})};var ce=function(){var e=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),r=Object(d.a)(n,2),l=r[0],o=r[1],i=Object(a.useCallback)((function(e,t){s(e),o(t),localStorage.setItem(Z,JSON.stringify({userId:t,token:e}))}),[]),j=Object(a.useCallback)((function(){s(null),o(null),localStorage.removeItem(Z)}),[]);return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem(Z));e&&e.token&&i(e.token,e.userId)}),[i]),{login:i,logout:j,token:c,userId:l}}(),t=e.token,c=e.login,s=e.logout,n=e.userId,r=!!t,i=r?Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/profile",exact:!0,children:Object(O.jsx)(k,{})}),Object(O.jsx)(o.b,{exact:!0,path:"/me",component:k}),Object(O.jsx)(o.b,{exact:!0,path:"/",component:E}),Object(O.jsx)(o.b,{exact:!0,path:"/catalog",component:A}),Object(O.jsx)(o.b,{exact:!0,path:"/about",component:I}),Object(O.jsx)(o.b,{exact:!0,path:"/statistic",component:U}),Object(O.jsx)(o.b,{exact:!0,path:"/toOrder/:id_book",component:W}),Object(O.jsx)(o.b,{exact:!0,path:"/shop",component:B}),Object(O.jsx)(o.b,{exact:!0,path:"/toList/:id_book",component:X}),Object(O.jsx)(o.b,{exact:!0,path:"/favs",component:F}),Object(O.jsx)(o.b,{exact:!0,path:"/book/add",component:M}),Object(O.jsx)(o.b,{exact:!0,path:"/book/edit/:id_book",component:R}),Object(O.jsx)(o.b,{exact:!0,path:"/book/delete/:id_book",component:Q}),Object(O.jsx)(o.b,{exact:!0,path:"/books/:id_book",component:H}),Object(O.jsx)(o.b,{exact:!0,path:"/profile/myBooks",component:V}),Object(O.jsx)(Y,{exact:!0}),Object(O.jsx)(o.a,{to:"/profile"})]}):Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/register",exact:!0,children:Object(O.jsx)(y,{})}),Object(O.jsx)(o.b,{path:"/login",exact:!0,children:Object(O.jsx)(C,{})}),Object(O.jsx)(o.b,{exact:!0,path:"/",component:E}),Object(O.jsx)(o.b,{exact:!0,path:"/catalog",component:A}),Object(O.jsx)(o.b,{exact:!0,path:"/about",component:I}),Object(O.jsx)(o.b,{exact:!0,path:"/statistic",component:U}),Object(O.jsx)(o.b,{exact:!0,path:"/books/:id_book",component:H}),Object(O.jsx)(o.a,{to:"/login"})]});return Object(O.jsx)(u.Provider,{value:{token:t,login:c,logout:s,userId:n,isAuthenficated:r},children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(ee,{}),r,Object(O.jsx)("div",{className:"content",children:i}),Object(O.jsx)(te,{})]})})},ae=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,100)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(ce,{})}),document.getElementById("root")),ae()}},[[95,1,2]]]);
//# sourceMappingURL=main.1c0f5eca.chunk.js.map