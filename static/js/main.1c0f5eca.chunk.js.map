{"version":3,"sources":["context/Auth.Context.js","hooks/http.hook.js","components/User.js","http/index.js","pages/profile.page.js","hooks/message.hook.js","pages/auth.page.js","pages/login.page.js","components/Carousel.js","pages/main.page.js","pages/shop.page.js","pages/favs.page.js","pages/about.page.js","components/catalog.js","components/filter.js","pages/catalog.page.js","components/ExportExlsx.js","pages/stat.page.js","pages/addBook.page.js","pages/editBook.page.js","components/BookCard.js","pages/book.page.js","pages/myBooks.page.js","pages/delete.page.js","pages/order.page.js","pages/list.page.js","components/Logout.js","hooks/auth.hook.js","components/Search.js","components/navBar.js","components/footer.js","App.js","routes.js","reportWebVitals.js","index.js"],"names":["noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","Use","user","className","src","process","photo","name","$host","axios","create","baseURL","$authHost","interceptors","use","config","authorization","localStorage","getItem","ProfilePage","useContext","books","setBooks","setUser","getBooks","get","params","id_user","then","res","getUser","useEffect","to","length","useMessage","text","window","M","toast","html","AuthPage","history","useHistory","email","password","form","setForm","changeHandler","event","target","value","registerhandler","post","catch","fetched","push","htmlFor","type","aria-describedby","id","onChange","onClick","disabled","LoginPage","auth","loginhandler","Carousel","ones","twos","console","log","data-ride","id_book","title","demo","images","MainPage","setOnes","setTwos","getOne","book","getTwo","ShopPage","getBook","map","index","price","FavsPage","AboutPage","style","backgroundImage","Catalog","Filter","props","cats","setCats","checked","setChecked","getCats","res_cats","Tabs","defaultActiveKey","Tab","eventKey","cat","id_cat","indexOf","item","currentIndex","newChecked","slice","handleFilters","handleToggle","title_cat","CatalogPage","Filters","setFilters","searchResults","setSearchResults","filters","category","newFilters","filt","filteredArray","filter","obj","forEach","element","cat_fk","showFilteredResult","ExportCSV","csvData","fileName","e","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","Blob","FileSaver","exportToCSV","StatPages","persons","setPersons","getPersons","pers","scope","person","AddBookPage","genres","setGenres","pubs","setPubs","authors","setAuthors","getAuthor","auts","getPub","getGen","gens","addhandler","document","querySelector","formData","FormData","requestOptions","Authorization","ContentType","Accept","user_id","status","aria-label","author","id_autor","fio","pub","id_pub","title_pub","genre","id_genres","title_genres","rows","required","EditBookPage","setBook","authorByBook","setAuthorByBook","genreByBook","setGenreByBook","book_id","useParams","getBook_author","a_b","getBook_genre","g_b","edithandler","y","pub_fk","id_genre","BookCard","overflow","BookPage","setCat","setPub","getCat","MyBooksPage","DeletePage","deleteBook","delete","OrderPage","order","ListPage","Logout","preventDefault","href","storageName","Search","searchTerm","setSearchTerm","inputEl","useRef","ref","list","placeholder","current","newList","Object","values","join","toLowerCase","includes","onInput","val","getElementById","opts","childNodes","i","location","NavBar","FootBar","App","setToken","setUserId","jwtToken","setItem","removeItem","parse","useAuth","isAuthenficated","routes","path","exact","component","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1c0f5eca.chunk.js","sourcesContent":["import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n    token: null,\r\n    userId: null,\r\n    login: noop,\r\n    logout: noop,\r\n    isAuthenticated: false\r\n})\r\n","import {useState, useCallback} from 'react'\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n\r\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setLoading(true)\r\n        try {\r\n            if (body) {\r\n                body = JSON.stringify(body)\r\n                headers['Content-Type'] = 'application/json'\r\n            }\r\n\r\n            const response = await fetch(url, {method, body, headers})\r\n\r\n            const data = await response.json()\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.message || 'Что-то пошло не так')\r\n            }\r\n\r\n            setLoading(false)\r\n\r\n            return data\r\n        } catch (e) {\r\n            setLoading(false)\r\n            setError(e.message)\r\n            throw e\r\n        }\r\n    }, [])\r\n\r\n    const clearError = useCallback(() => setError(null), [])\r\n\r\n    return { loading, request, error, clearError }\r\n}\r\n","import React, {useContext} from 'react'\r\n\r\nexport const Use =({user})=> {\r\n    return(\r\n        <div>\r\n            <img className=\"prof_img\" src={process.env.REACT_APP_API_URL+`/${user.photo}`}/>\r\n            <h5 className=\"card-title\">@{user.name}</h5>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\n\r\n\r\nconst $host = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL\r\n})\r\n\r\n\r\nconst $authHost = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL\r\n})\r\n\r\n\r\nconst authInterceptor = config => {\r\n    config.headers.authorization = `Bearer ${localStorage.getItem('token')}`\r\n    return config\r\n}\r\n\r\n$authHost.interceptors.request.use(authInterceptor)\r\n\r\nexport {\r\n    $host,\r\n    $authHost\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {Link, useHistory, useParams} from 'react-router-dom'\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {Use} from '../components/User.js'\r\nimport {$authHost, $host} from \"../http\";\r\n\r\nexport const ProfilePage = () => {\r\n    const {token} = useContext(AuthContext)\r\n    const {userId} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [books, setBooks] = useState()\r\n    const [user, setUser] = useState()\r\n\r\n    const getBooks = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get('/api/books/profile/myBooks', {\r\n                    params: {\r\n                        id_user: userId\r\n                    },\r\n                    headers:{\r\n                        authorization:\"Bearer \"+token,\r\n                    }\r\n                }\r\n            ).then(res => {\r\n                const books = res.data;\r\n                setBooks(books)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getUser = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $authHost.get(`/api/persons/${userId}`).then(res => {\r\n                const user = res.data;\r\n                setUser(user)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, userId, request])\r\n\r\n    useEffect( () =>{\r\n        getBooks()\r\n        getUser()\r\n    }, [getBooks, getUser])\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h5 className=\"text-center color_block\">Профиль</h5>\r\n            {/*</div>*/}\r\n            <div className=\"prof\">\r\n                <div className=\"row\">\r\n                    <div className=\"line col-md-4\">\r\n\r\n\r\n                        <div>\r\n                            {!loading && user && <Use user={user}/>}\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-7 text\">\r\n                                    <h6>Мои интересы:</h6>\r\n                                    <button className='btn btn-sm btn-success m-1'> Психология</button>\r\n                                    <button className='btn btn-sm btn-info m-1'> Путешествия</button>\r\n                                    <button className='btn btn-sm btn-light m-1'> Мотивация</button>\r\n                                    <button className='btn btn-sm btn-dark m-1'> Фриланс</button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"text\">\r\n                                   <h6> <Link className=\"link\" to=\"/profile/myBooks\">Мои книги</Link>: {!loading && books && books.length }</h6>\r\n                                    <button className='btn btn-light m-1 add_but'><Link className=\"link\" to=\"/book/add\">Добавить книгу</Link> </button>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import {useCallback} from 'react'\r\n\r\nexport const useMessage = () => {\r\n    return useCallback( text => {\r\n        if(window.M && text) {\r\n            window.M.toast({html: text })\r\n        }\r\n    }, [])\r\n}\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport { useHttp } from '../hooks/http.hook';\r\nimport { useMessage } from '../hooks/message.hook';\r\nimport {useHistory} from 'react-router-dom'\r\nimport {$host} from \"../http\";\r\n\r\nexport const AuthPage = () => {\r\n    const message = useMessage()\r\n    const history = useHistory()\r\n    const {loading, request, error, clearError} = useHttp()\r\n    const [form, setForm] = useState({\r\n        email: '', password: ''\r\n    })\r\n\r\n    useEffect(() => {\r\n        message(error)\r\n        clearError()\r\n\r\n    }, [error, message, clearError])\r\n\r\n    const changeHandler = event => {\r\n        setForm({...form, [event.target.name]: event.target.value })\r\n    }\r\n\r\n    const registerhandler = async () => {\r\n        try {\r\n            const fetched = await $host.post('/api/persons/register', {...form})\r\n                .catch(error => message(error.message));\r\n            const data = fetched.data;\r\n\r\n\r\n            //const data = fetched.data;\r\n            //console.log(data);\r\n           // message(data.response.data.message);\r\n\r\n\r\n            history.push('/login')\r\n            // const data = await request('/api/persons/register', 'POST', {...form})\r\n            // message(data.message)\r\n            // history.push('/login')\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row col-12 justify-content-center\">\r\n                <h5 className=\"text-center color_block\">Регистрация</h5>\r\n            </div>\r\n            <div className=\"row justify-content-md-center\">\r\n                <div className=\"card col-8 offset-s3 fon_auth\">\r\n                    <div className=\"card-body\">\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"email\" className=\"form-label b\">Email address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control _req _email\"\r\n                                aria-describedby=\"emailHelp\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                onChange={changeHandler}\r\n                                value={form.email}\r\n                            />\r\n                            <span className=\"\" />\r\n                        </div>\r\n                        <span className=\"_err-message-span\" />\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"password\" className=\"form-label b\">Password</label>\r\n                            <input type=\"password\" className=\"form-control _req _password\"\r\n                                   name=\"password\" id=\"password\"\r\n                                   onChange={changeHandler}\r\n                                   value={form.password}/>\r\n                            <span className=\"\" />\r\n                        </div>\r\n                        <span className=\"_err-message-span\" />\r\n\r\n                    </div>\r\n                    <button\r\n                        className=\" btn btn-light\"\r\n                        onClick={registerhandler}\r\n                        disabled={loading}>\r\n                        Sign in\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport { AuthContext } from '../context/Auth.Context.js';\r\nimport { useHttp } from '../hooks/http.hook';\r\nimport { useMessage } from '../hooks/message.hook';\r\nimport {$host} from \"../http\";\r\n\r\n\r\nexport const LoginPage = () => {\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory()\r\n    const message = useMessage()\r\n    const {loading, request, error, clearError} = useHttp()\r\n    const [form, setForm] = useState({\r\n        email: '', password: ''\r\n    })\r\n\r\n    useEffect(() => {\r\n        message(error)\r\n        clearError()\r\n    }, [error, message, clearError])\r\n\r\n    const changeHandler = event => {\r\n        setForm({...form, [event.target.name]: event.target.value })\r\n    }\r\n\r\n    const loginhandler = async () => {\r\n        try {\r\n           const data = await $host.post('/api/persons/login',{...form})\r\n               .catch(error => message(error.data.message))\r\n               .then(response => auth.login(response.data.token, response.data.userId));\r\n            history.push(\"/profile\");\r\n        } catch (e) {}\r\n\r\n    }\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row col-12 justify-content-center\">\r\n                <h5 className=\"text-center color_block\">Авторизация</h5>\r\n            </div>\r\n            <div className=\"row justify-content-md-center\">\r\n                <div className=\"card col-8 offset-s3 fon_auth\">\r\n                    <div className=\"card-body\">\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"email\" className=\"form-label b\">Email address</label>\r\n                            <input type=\"email\" className=\"form-control _req _email\" name=\"email\" id=\"email\"\r\n                                   aria-describedby=\"emailHelp\" onChange={changeHandler}\r\n                                   value={form.email}/>\r\n                            <span className=\"\" />\r\n                        </div>\r\n                        <span className=\"_err-message-span\" />\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"password\" className=\"form-label b\">Password</label>\r\n                            <input type=\"password\" className=\"form-control _req _password\"\r\n                                   name=\"password\" id=\"password\" onChange={changeHandler}\r\n                                   value={form.password}/>\r\n                            <span className=\"\" />\r\n                        </div>\r\n                        <span className=\"_err-message-span\" />\r\n                        <div className=\"\">нет аккаунта? <NavLink to=\"/register\">Зарегистрируйтесь</NavLink></div>\r\n\r\n                    </div>\r\n                    <button\r\n                        className=\"btn btn-light\"\r\n                        onClick={loginhandler}\r\n                        disabled={loading}>\r\n                        Login\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nimport {$authHost} from \"../http\";\r\n\r\nexport const Carousel =({ones, twos})=> {\r\n    console.log(ones);\r\n    return(\r\n        <div className=\"row justify-content-md-center\">\r\n            <section className=\"pt-4 pb-2 \">\r\n                <div className=\"container carousel_body\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-6\">\r\n                            <h3 className=\"mb-3\">Горячие новинки приключений</h3>\r\n                        </div>\r\n\r\n                        <div className=\"col-12\">\r\n                            <div id=\"carouselExampleIndicators2\" className=\"carousel slide\" data-ride=\"carousel\">\r\n\r\n                                <div className=\"carousel-inner\">\r\n                                    <div className=\"carousel-item active\">\r\n                                        <div className=\"row\">\r\n\r\n\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${ones[0].id_book}`)}>\r\n                                                    <div className=\"card card_main\" >\r\n                                                        <h5>{ones[0].title}</h5>\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{ones[0].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${ones[0].images}`}/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${ones[1].id_book}`)}>\r\n                                                    <div className=\"card h-100 card_main\" >\r\n                                                        <h5>{ones[1].title}</h5>\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{ones[1].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${ones[1].images}`}/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${ones[2].id_book}`)}>\r\n                                                    <div className=\"card h-100 card_main\" >\r\n                                                        <h5>{ones[2].title}</h5>\r\n\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{ones[2].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${ones[2].images}`}/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n\r\n\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${ones[3].id_book}`)}>\r\n                                                    <div className=\"card h-100 card_main\" >\r\n\r\n                                                        <h5>{ones[3].title}</h5>\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{ones[3].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${ones[3].images}`}/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section className=\"pt-4 pb-2 mb-4\">\r\n                <div className=\"container carousel_body\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-6 header\">\r\n                            <h3 className=\"mb-3\">Фантастика</h3>\r\n                        </div>\r\n\r\n                        <div className=\"col-12\">\r\n                            <div id=\"carouselExampleIndicators2\" className=\"carousel slide\" data-ride=\"carousel\">\r\n\r\n                                <div className=\"carousel-inner\">\r\n                                    <div className=\"carousel-item active\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${twos[0].id_book}`)}>\r\n                                                    <div className=\"card h-100 card_main\" >\r\n                                                        <h5>{twos[0].title}</h5>\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{twos[0].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${twos[0].images}`}/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${twos[1].id_book}`)}>\r\n                                                    <div className=\"card h-100 card_main\" >\r\n                                                         <h5>{twos[1].title}</h5>\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{twos[1].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${twos[1].images}`}/>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${twos[2].id_book}`)}>\r\n                                                    <div className=\"card h-100 card_main\" >\r\n                                                         <h5>{twos[2].title}</h5>\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{twos[2].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${twos[2].images}`}/>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                            <div className=\"col-md-3 mb-3\">\r\n                                                <Link className=\"Nav_link\" to={$authHost.get(`/books/${twos[3].id_book}`)}>\r\n                                                    <div className=\"card h-100 card_main\" >\r\n                                                        <h5>{twos[3].title}</h5>\r\n                                                        <div className=\"card-body\">\r\n                                                            <p>{twos[3].demo}</p>\r\n                                                            <img className=\"im_carousel\" src={process.env.REACT_APP_API_URL +`/${twos[3].images}`}/>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {Carousel} from \"../components/Carousel.js\";\r\nimport axios from \"axios\";\r\nimport {$authHost, $host} from \"../http\";\r\n\r\nexport const MainPage = () =>{\r\n    const {token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n\r\n    const [ones, setOnes] = useState()\r\n    const [twos, setTwos] = useState()\r\n\r\n\r\n\r\n\r\n    const getOne = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/category/getOne/4`).then(res => {\r\n                const book = res.data;\r\n                setOnes(book);\r\n                console.log(book)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getTwo = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/category/getOne/6`).then(res => {\r\n                const book = res.data;\r\n                setTwos(book);\r\n                console.log(book)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n\r\n\r\n    useEffect( () =>{\r\n        getOne()\r\n        getTwo()\r\n\r\n    }, [getOne, getTwo])\r\n    return(\r\n\r\n        <div className=\"container\">\r\n            {!loading && ones && twos &&<Carousel ones={ones} twos={twos}/>}\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const ShopPage = () =>{\r\n    const {userId, token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [books, setBooks] = useState()\r\n\r\n\r\n    const getBook = useCallback(async ()=>{\r\n        try{\r\n\r\n            const fetched = await $host.get('/api/books/order/myBooks', {\r\n                    params: {\r\n                        id_user: userId\r\n                    },\r\n                    headers:{\r\n                        authorization:\"Bearer \"+token,\r\n                    }\r\n                }\r\n            ).then(res => {\r\n                const books = res.data;\r\n                setBooks(books)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n\r\n    useEffect( () =>{\r\n        getBook()\r\n\r\n    }, [getBook])\r\n    return(\r\n        <div className=\"container\">\r\n            <h5 className=\"text-center color_block\">Корзина</h5>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n\r\n                        {!loading && books && books.map((book, index) => {\r\n                            return(\r\n                                <div className=\"col-md-4 mb-3\">\r\n                                    <div className=\"card catalog\" key={index}>\r\n                                        <Link className=\"Nav_link\" to={`/books/${book.id_book}`}> <h2>{book.title}</h2></Link>\r\n                                        <div className=\"card-body\">\r\n                                            <p>{book.demo}</p>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-6\">\r\n                                                    <button className='btn but_price2'>{book.price} p.</button>\r\n                                                </div>\r\n                                                <div className=\"col-6\">\r\n                                                    <button className='btn btn-light card_button col-6 '>Оплатить</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const FavsPage = () =>{\r\n    const {token, userId} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [books, setBooks] = useState()\r\n\r\n\r\n    const getBook = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/books/favorites/myBooks`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const books = res.data;\r\n                setBooks(books)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n\r\n    useEffect( () =>{\r\n        getBook()\r\n\r\n    }, [getBook])\r\n    return(\r\n        <div className=\"container\">\r\n            <h5 className=\"text-center color_block\">Отложенное</h5>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n                        {!loading && books && books.map((book, index) => {\r\n                            return(\r\n                                <div className=\"col-md-4 mb-3\">\r\n                                    <div className=\"card catalog\" key={index}>\r\n                                        <Link className=\"Nav_link\" to={`/books/${book.id_book}`}> <h2>{book.title}</h2></Link>\r\n                                        <div className=\"card-body\">\r\n                                            <p>{book.demo}</p>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-6\">\r\n                                                    <Link className=\"\" to=\"#\">\r\n                                                        <button className='btn but_price2'>{book.price} p.</button>\r\n                                                    </Link>\r\n                                                </div>\r\n                                                <div className=\"col-6\">\r\n                                                    <Link className=\"\" to={`/toOrder/${book.id_book}`}>\r\n                                                        <button className='btn card_button btn-light m-1'>В корзину</button>\r\n                                                    </Link>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nexport const AboutPage = () =>{\r\n    return(\r\n        <div className=\"v42_205\">\r\n        <span className=\"v45_0\">Во все времена чтение было одним из волшебных занятий, но сейчас оно актуально, как никогда.\r\nНаша миссия - дать вам то, что хотите именно ВЫ\r\n        </span>\r\n            <span className=\"v44_0\">Развивайся вместе с LOVEBOOK</span>\r\n            <div className=\"v43_2\" style={{backgroundImage:'/images/v43_2.png'}}></div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nimport {$authHost} from \"../http\";\r\n\r\nexport const Catalog =({books})=> {\r\n   return(\r\n       <>\r\n               { books && books.map((book, index) => {\r\n                   return(\r\n                        <div className=\"col-md-3 mb-4\">\r\n                           <div className=\"card h-100 catalog\" key={index}>\r\n                               <Link className=\"Nav_link\" to={`/books/${book.id_book}`}> <h6>{book.title}</h6></Link>\r\n                               <div className=\"card-body\">\r\n                                   <div className=\"box_img\">\r\n                                       <img className=\"mini_book\" src={process.env.REACT_APP_API_URL+`/${book.images}`}/>\r\n                                   </div>\r\n                                   <button className='btn but_price2'>{book.price} p.</button>\r\n                               </div>\r\n                           </div>\r\n                        </div>\r\n                   );\r\n               })}\r\n       </>\r\n   )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {Tab, Tabs} from \"react-bootstrap\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const Filter = (props) => {\r\n\r\n    const {token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [cats, setCats] = useState()\r\n    const [checked, setChecked] = useState([])\r\n\r\n    const getCats = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/category/`).then(res => {\r\n                const res_cats = res.data;\r\n                setCats(res_cats)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [])\r\n\r\n\r\n\r\n    const handleToggle = (item) => {\r\n        const currentIndex = checked.indexOf(item);\r\n        const newChecked = [...checked];\r\n\r\n        if(currentIndex === -1){\r\n            newChecked.push(item)\r\n        }else {\r\n            newChecked.slice(currentIndex, 1)\r\n        }\r\n\r\n        setChecked(newChecked)\r\n        props.handleFilters(newChecked)\r\n    }\r\n\r\n    useEffect( () =>{\r\n       getCats()\r\n    }, [])\r\n\r\n    return(\r\n        <div className=\"filter_box\">\r\n        <Tabs defaultActiveKey=\"contact\" id=\"tab\">\r\n            <Tab eventKey=\"contact\"  title=\"Категории\">\r\n                {!loading && cats && cats.map((cat, index) => {\r\n                    return(\r\n                        <div className=\"form-check\">\r\n                            <input className=\"form-check-input\"\r\n                                   type=\"checkbox\"\r\n                                   value={`${cat.id_cat}`}\r\n                                   id=\"flexCheckDefault\"\r\n                                   key={index}\r\n                                   checked={checked.indexOf(cat.id_cat) === -1? false : true}\r\n                                   onChange={()=>handleToggle(cat.id_cat)}\r\n                            />\r\n                            <label className=\"form-check-label\" htmlFor=\"flexCheckDefault\">\r\n                                {cat.title_cat}\r\n                            </label>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </Tab>\r\n        </Tabs>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {Catalog} from \"../components/catalog\";\r\nimport {Filter} from \"../components/filter\";\r\nimport {$host} from \"../http\";\r\n\r\n\r\nexport const CatalogPage = () =>{\r\n    const {token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [books, setBooks] = useState([])\r\n    const [Filters, setFilters] = useState({\r\n        cats: [],\r\n        price:[]\r\n        }\r\n    )\r\n    const [searchResults, setSearchResults] = useState([]);\r\n\r\n    const getBooks = useCallback(async ()=>{\r\n        try{\r\n            // const fetched = await request(`/api/books/`, 'GET', null, {\r\n            //     Authorization : `Bearer ${token}`\r\n            // });\r\n            // setBooks(fetched)\r\n            // setSearchResults(fetched)\r\n            const fetched = await $host.get(`/api/books`).then(res => {\r\n                const book = res.data;\r\n                setBooks(book)\r\n                setSearchResults(book)\r\n            })\r\n\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n\r\n\r\n    const showFilteredResult = (filt)=>{\r\n        const filteredArray =[];\r\n        books.filter(obj =>{\r\n             filt['cats'].forEach(element =>\r\n             {\r\n                if(obj.cat_fk===element)\r\n                {\r\n                    filteredArray.push(obj);\r\n                }\r\n            })\r\n        });\r\n        setSearchResults(filteredArray);\r\n    }\r\n\r\n\r\n\r\n\r\n    const handleFilters = (filters, category) => {\r\n        const  newFilters = {...Filters}\r\n        newFilters[category] = filters\r\n        showFilteredResult(newFilters)\r\n        setFilters(newFilters)\r\n    }\r\n\r\n\r\n    useEffect( () =>{\r\n        getBooks()\r\n    }, [getBooks])\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"container\">\r\n\r\n            <div className=\"row py-3\">\r\n                <div className=\"col-9\">\r\n\r\n                    <div className=\"row row-cols-1 row-cols-md-3 g-4\" >\r\n\r\n                        {!loading && books  ? (\r\n                            <Catalog books={searchResults}/>\r\n                        ) : !loading && books && searchResults ? (\r\n                            <Catalog books={searchResults}/>\r\n                            ):(\r\n                                <h3></h3>\r\n                        )\r\n                        }\r\n\r\n                </div>\r\n                </div>\r\n                <div className=\"col-3\">\r\n                    <Filter\r\n                        handleFilters = {filters =>\r\n                            handleFilters(filters, 'cats')\r\n                           }\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\nexport const ExportCSV = ({csvData, fileName}) => {\r\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n    const exportToCSV = (csvData, fileName) => {\r\n        const ws = XLSX.utils.json_to_sheet(csvData);\r\n        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n        const data = new Blob([excelBuffer], {type: fileType});\r\n        FileSaver.saveAs(data, fileName + fileExtension);\r\n    }\r\n    return (\r\n        <div>\r\n            <button className=\"btn btn-success btn-lg pull-right\"\r\n                    onClick={(e) => exportToCSV(csvData,fileName)}>\r\n                <i className=\"fa fa-file-excel-o\"></i> Export\r\n            </button>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {ExportCSV} from \"../components/ExportExlsx\";\r\nimport {$host} from \"../http\";\r\n\r\n\r\nexport const StatPages = () =>{\r\n    const {token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [persons, setPersons] = useState()\r\n    const [owners, setOwners] = useState()\r\n\r\n    const getPersons = useCallback(async ()=>{\r\n        try{\r\n\r\n            const fetched = await $host.get(`/api/books/statistic/owners_statistic`).then(res => {\r\n                const pers = res.data;\r\n                setPersons(pers)\r\n            })\r\n\r\n        } catch (e){}\r\n    }, [token, request])\r\n\r\n    // const getOwners = useCallback(async ()=>{\r\n    //     try{\r\n    //         const fetched = await $host.get(`/api/books/owners`).then(res=>{\r\n    //             const owners = res.data;\r\n    //             setOwners(owners)\r\n    //         })\r\n    //     } catch (e){ }\r\n    // }, [token, request])\r\n\r\n\r\n    useEffect( () =>{\r\n        getPersons()\r\n    }, [getPersons])\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <table className=\"table\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th scope=\"col\">Пользователь</th>\r\n                                <th scope=\"col\">Кол-во книг</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        { !loading && persons && persons.map((person, index) => {\r\n                            return(\r\n                                <tr>\r\n                                    <td>{person.name}</td>\r\n                                    <td>{person.books}</td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                { !loading && persons &&\r\n                <ExportCSV csvData={persons} fileName=\"Lox\" />}\r\n            </div>\r\n            <div className=\"row\">\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const AddBookPage = () =>{\r\n\r\n    const history = useHistory()\r\n    const message = useMessage()\r\n    const {userId, token} = useContext(AuthContext)\r\n    const {request, loading, error, clearError} = useHttp()\r\n    const [genres, setGenres] = useState()\r\n    const [pubs, setPubs] = useState()\r\n    const [cats, setCats] = useState()\r\n    const [authors, setAuthors] = useState()\r\n\r\n\r\n     const getAuthor = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/authors/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const auts = res.data;\r\n                setAuthors(auts)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getPub = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/publishers/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const pubs = res.data;\r\n                setPubs(pubs)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getCats = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/category/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const cats = res.data;\r\n                setCats(cats)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getGen = useCallback(async ()=>{\r\n        try{\r\n\r\n            const fetched = await $host.get(`/api/genres/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const gens = res.data;\r\n                setGenres(gens)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token,  request ])\r\n\r\n    useEffect( () =>{\r\n        message(error)\r\n        clearError()\r\n        getGen()\r\n        getAuthor()\r\n        getPub()\r\n        getCats()\r\n\r\n    }, [getGen, getAuthor, getPub, getCats,error, message, clearError])\r\n\r\n    const addhandler = async () => {\r\n\r\n        try {\r\n            var form = document.querySelector('form');\r\n            var formData = new FormData(form);\r\n            console.log(\"form\",...formData)\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: {\r\n                    Authorization : `Bearer ${token}`,\r\n                    ContentType : `multipart/form-data`,\r\n                    Accept : \"application/json\",\r\n                    type : \"formData\",\r\n                    user_id : userId\r\n                },\r\n                body: formData\r\n            };\r\n            const response = await fetch(process.env.REACT_APP_API_URL+`/api/books/`, requestOptions);\r\n            const data = await response.json();\r\n            message(data.message);\r\n               if(response.status === 201){\r\n                   history.push(\"/catalog\");\r\n               }\r\n        } catch (e) {}\r\n    }\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h5 className=\"text-center color_block\">Добавление книги</h5>\r\n            <div className=\"add_\">\r\n\r\n                <form className=\"row\" id=\"form\">\r\n                    <div className=\"col-7\">\r\n\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"title\" className=\"col-sm-2 col-form-label\">Название</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <input\r\n\r\n                                    type=\"text\"\r\n                                    className=\"form-control form-control-sm\"\r\n                                    id=\"title\"\r\n                                    name=\"title\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <span className=\"_err-message-span\" />\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"author\" className=\"col-sm-2 col-form-label\">Автор</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <select className=\"form-control form-control-sm\"\r\n                                         aria-label=\"multiple select example\"\r\n                                        id=\"author\"\r\n                                        name=\"author\"\r\n                                >\r\n                                    {!loading && authors && authors.map((author, index) => {\r\n                                        return(\r\n                                        <option\r\n                                            value={`${author.id_autor}`}\r\n                                            key={index}\r\n                                        >{author.fio}\r\n                                        </option>\r\n\r\n                                        );\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <span className=\"_err-message-span\" />\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"pub\" className=\"col-sm-2 col-form-label\">Издательство</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <select\r\n                                    className=\"form-control form-control-sm\"\r\n                                    aria-label=\"Default select example\"\r\n                                    id=\"pub\"\r\n                                    name=\"pub\"\r\n                                >\r\n                                    {!loading && pubs && pubs.map((pub, index) => {\r\n                                        return(\r\n                                            <option\r\n                                                value={`${pub.id_pub}`}\r\n                                                key={index}\r\n                                            >{pub.title_pub}\r\n                                            </option>\r\n\r\n                                        );\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n\r\n                        </div><span className=\"_err-message-span\" />\r\n                        <div className=\"row\">\r\n                            <div className=\"col-6\">\r\n                                <div className=\"mb-3 row\">\r\n                                    <label htmlFor=\"gen\" className=\"col-sm-4 col-form-label\">Жанры</label>\r\n                                    <div className=\"col-sm-8\">\r\n                                        <select\r\n                                            className=\"form-control form-control-sm\"\r\n                                            aria-label=\"Default select example\"\r\n                                            id=\"gen\"\r\n                                            name=\"gen\"\r\n                                        >\r\n                                            {!loading && genres && genres.map((genre, index) => {\r\n                                                return(\r\n                                                    <option\r\n                                                        value={`${genre.id_genres}`}\r\n                                                        key={index}\r\n                                                    >{genre.title_genres}\r\n                                                    </option>\r\n\r\n                                                );\r\n                                            })}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"_err-message-span\" />\r\n                                <div className=\"mb-3 row\">\r\n                                    <label htmlFor=\"cat\" className=\"col-sm-4 col-form-label\">Категория</label>\r\n                                    <div className=\"col-sm-8\">\r\n                                        <select className=\"form-control form-control-sm\"\r\n                                                aria-label=\"Default select example\"\r\n                                                id=\"cat\"\r\n                                                name=\"cat\"\r\n\r\n                                        >\r\n                                            {!loading && cats && cats.map((cat, index) => {\r\n                                                return(\r\n                                                    <option\r\n                                                      value={`${cat.id_cat}`}\r\n                                                        key={index}>{cat.title_cat}\r\n                                                    </option>\r\n\r\n                                                );\r\n                                            })}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"_err-message-span\" />\r\n                                <div className=\"mb-3 row\">\r\n                                    <label htmlFor=\"price\" className=\"col-sm-4 col-form-label\">Цена</label>\r\n                                    <div className=\"col-sm-8\">\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            className=\"form-control form-control-sm\"\r\n                                            id=\"price\"\r\n                                            name=\"price\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"_err-message-span\" />\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"mb-3 row\">\r\n                                    <label htmlFor=\"demo\" className=\"col-sm-3 col-form-label\">Аннотация</label>\r\n                                    <div className=\"col-sm-9\">\r\n                                <textarea\r\n                                    className=\"form-control form-control-sm\"\r\n                                    name=\"demo\"\r\n                                    id=\"demo\"    rows=\"3\"\r\n                                >\r\n\r\n                                </textarea>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"_err-message-span\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-5\">\r\n\r\n                        <div className=\"form-group\">\r\n                            <input type=\"file\" className=\"form-control-file\"\r\n                                   name=\"images\"\r\n                                   id=\"images\"\r\n                                   required=\"required\"\r\n\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <img src=\"/images/45.png\"\r\n                                 className=\"add_img\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"add\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-light m-1 add_but\"\r\n                                onClick={addhandler}\r\n                                disabled={loading}\r\n                            >\r\n                                Добавить книгу\r\n                            </button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport { useHistory, useParams} from \"react-router-dom\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const EditBookPage = () =>{\r\n    const message = useMessage()\r\n    const history = useHistory()\r\n    const {token, userId} = useContext(AuthContext)\r\n    const {request, loading, error, clearError} = useHttp()\r\n    const [genres, setGenres] = useState()\r\n    const [pubs, setPubs] = useState()\r\n    const [cats, setCats] = useState()\r\n    const [authors, setAuthors] = useState()\r\n    const [book, setBook] = useState()\r\n    // const [form, setForm] = useState({\r\n    //     title: '', author: '', pub: '', gen:'', cat:'', price:'', demo:'', images:''\r\n    // })\r\n    const [authorByBook, setAuthorByBook] = useState()\r\n    const [genreByBook, setGenreByBook] = useState()\r\n\r\n    const book_id = useParams().id_book\r\n\r\n    const getBook = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/books/${book_id}`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const books = res.data;\r\n                setBook(books)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [])\r\n\r\n    const getBook_author = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/authors/${book_id}`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const a_b = res.data;\r\n                setAuthorByBook(a_b)\r\n            })\r\n            } catch (e){\r\n\r\n            }\r\n\r\n    }, [])\r\n\r\n    const getBook_genre = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/genres/${book_id}`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const g_b = res.data;\r\n                setGenreByBook(g_b)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [])\r\n\r\n    const getAuthor = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/authors/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const auts = res.data;\r\n                setAuthors(auts)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getPub = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/publishers/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const pubs = res.data;\r\n                setPubs(pubs)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getCats = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/category/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const cats = res.data;\r\n                setCats(cats)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    const getGen = useCallback(async ()=>{\r\n        try{\r\n\r\n            const fetched = await $host.get(`/api/genres/`, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            }).then(res=>{\r\n                const gens = res.data;\r\n                setGenres(gens)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token,  request ])\r\n\r\n    useEffect( () =>{\r\n\r\n        getGen()\r\n        getAuthor()\r\n        getPub()\r\n        getCats()\r\n        getBook()\r\n        message(error)\r\n        clearError()\r\n        getBook_author()\r\n        getBook_genre()\r\n    }, [])\r\n\r\n\r\n    const edithandler = async () => {\r\n        try {\r\n            var form = document.querySelector('form');\r\n            var formData = new FormData(form);\r\n            console.log(\"form\",...formData)\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: {\r\n                    Authorization : `Bearer ${token}`,\r\n                    ContentType : `multipart/form-data`,\r\n                    Accept : \"application/json\",\r\n                    type : \"formData\",\r\n                    user_id : userId\r\n                },\r\n                body: formData\r\n            };\r\n            const response = await fetch(process.env.REACT_APP_API_URL+`/api/books/update/${book_id}`, requestOptions);\r\n            const data = await response.json();\r\n            message(data.message);\r\n            if(response.status === 201){\r\n                history.push(\"/profile/myBooks\");\r\n            }\r\n\r\n\r\n           // const data = await request(`/api/books/update/${book_id}`, 'PUT', {...form})\r\n           // console.log('Data', data)\r\n           // history.push(\"/profile/myBooks\");\r\n        } catch (e) {}\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h5 className=\"text-center color_block\">Редактирование книги</h5>\r\n\r\n            <div>\r\n                <form className=\"row\" id=\"form\">\r\n                    <div className=\"col-7\">\r\n\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"title\" className=\"col-sm-2 col-form-label\">Название</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control form-control-sm\"\r\n                                    id=\"title\"\r\n                                    name=\"title\"\r\n                                    value = {!loading && book && book.title}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"author\" className=\"col-sm-2 col-form-label\">Автор</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <select className=\"form-control form-control-sm\"\r\n                                        aria-label=\"select example\"\r\n                                        id=\"author\"\r\n                                        name=\"author\"\r\n                                        value = {!loading && authorByBook && authorByBook.y}\r\n                                >\r\n                                    {!loading && authors && authors.map((author, index) => {\r\n                                        return(\r\n                                            <option\r\n                                                value={`${author.id_autor}`}\r\n                                                key={index}\r\n                                            >{author.fio}\r\n                                            </option>\r\n\r\n                                        );\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"pub\" className=\"col-sm-2 col-form-label\">Издательство</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <select\r\n                                    className=\"form-control form-control-sm\"\r\n                                    aria-label=\"Default select example\"\r\n                                    id=\"pub\"\r\n                                    name=\"pub\"\r\n                                    value={!loading && book && book.pub_fk}\r\n                                >\r\n                                    {!loading && pubs && pubs.map((pub, index) => {\r\n                                        return(\r\n                                            <option\r\n                                                value={`${pub.id_pub}`}\r\n                                                key={index}\r\n                                            >{pub.title_pub}\r\n                                            </option>\r\n\r\n                                        );\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"gen\" className=\"col-sm-2 col-form-label\">Жанры</label>\r\n                            <div className=\"col-sm-5\">\r\n                                <select\r\n                                    className=\"form-control form-control-sm\"\r\n                                    aria-label=\"Default select example\"\r\n                                    id=\"gen\"\r\n                                    name=\"gen\"\r\n                                    value = {!loading && genreByBook && genreByBook.id_genre}\r\n                                >\r\n                                    {!loading && genres && genres.map((genre, index) => {\r\n                                        return(\r\n                                            <option\r\n                                                value={`${genre.id_genres}`}\r\n                                                key={index}\r\n                                            >{genre.title_genres}\r\n                                            </option>\r\n\r\n                                        );\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"cat\" className=\"col-sm-2 col-form-label\">Категория</label>\r\n                            <div className=\"col-sm-5\">\r\n                                <select className=\"form-control form-control-sm\"\r\n                                        aria-label=\"Default select example\"\r\n                                        id=\"cat\"\r\n                                        name=\"cat\"\r\n                                        value={!loading && book && book.cat_fk}\r\n                                    // onChange={e=>setBook(e.target.value)}\r\n\r\n                                >\r\n                                    {!loading && cats && cats.map((cat, index) => {\r\n                                        return(\r\n                                            <option\r\n                                                value={`${cat.id_cat}`}\r\n                                                key={index}>{cat.title_cat}\r\n                                            </option>\r\n\r\n                                        );\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"price\" className=\"col-sm-2 col-form-label\">Цена</label>\r\n                            <div className=\"col-sm-5\">\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className=\"form-control form-control-sm\"\r\n                                    id=\"price\"\r\n                                    name=\"price\"\r\n                                    value = {!loading && book && book.price}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"demo\" className=\"col-sm-2 col-form-label\">Аннотация</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <textarea\r\n                                    className=\"form-control form-control-sm\"\r\n                                    name=\"demo\"\r\n                                    id=\"demo\"    rows=\"3\"\r\n                                    value = {!loading && book && book.demo}\r\n                                >\r\n\r\n                                </textarea>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"col-5\">\r\n                        <div className=\"mb-3 row\">\r\n                            <label htmlFor=\"formFile\" className=\"col-sm-2 col-form-label\">Обложка</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <input className=\"form-control form-control-sm\"\r\n                                       type=\"file\"\r\n                                       id=\"images\"\r\n                                       name=\"images\"\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <img src=\"/images/45.png\" className=\"add_img\"/>\r\n                        </div>\r\n                        <div className=\"add\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-light m-1 add_but\"\r\n                                onClick={edithandler}\r\n                                disabled={loading}\r\n\r\n                            >\r\n                               Редактировать книгу\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const BookCard =({book, authors, pub, cat})=> {\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                    <div className=\"div_book\">\r\n                        <div style={{overflow: 'hidden'}}>\r\n                            <img className=\"book_img\" src={process.env.REACT_APP_API_URL +`/${book.images}`}/>\r\n                        </div>\r\n                        <div className=\"row text-center\">\r\n                            <Link className=\"\" to=\"#\">\r\n                                <button className='btn but_price m-1'>{book.price} p.</button>\r\n                            </Link>\r\n                            <Link className=\"\" to={`/toOrder/${book.id_book}`}>\r\n                                <button className='btn but_book btn-light m-1'>В корзину</button>\r\n                            </Link>\r\n                            <Link className=\"\" to={`/toList/${book.id_book}`}>\r\n                                <button className='btn but_book btn-light m-1'>Отложить</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"col-md-7\">\r\n                    <div className=\"row\">\r\n                        <div className=\"book_text\">\r\n                            <h6>Название: {book.title}</h6>\r\n                            <h6>Автор: {authors[0].fio}</h6>\r\n                            <h6>Издательство:{pub[0].title_pub} </h6>\r\n                        </div>\r\n                        <div className=\"col-8 book_text tegs\">\r\n\r\n                            <h6>Теги:</h6>\r\n                            <button className='btn btn-light m-1'> {cat[0].title_cat}</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"book_text\">\r\n                            <h6>Аннтотация: </h6>\r\n                            <span>{book.demo} </span>\r\n\r\n                            <h6>Комментарии: 0</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useParams} from 'react-router-dom'\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {BookCard} from '../components/BookCard.js';\r\nimport {$host} from \"../http\";\r\n\r\n\r\nexport const BookPage = () =>{\r\n    const {token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [cat, setCat] = useState()\r\n    const [pub, setPub] = useState()\r\n    const [book, setBook] = useState()\r\n    const [authors, setAuthors] = useState()\r\n    const book_id = useParams().id_book\r\n\r\n    const getBook = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/books/${book_id}`).then(res => {\r\n                const book = res.data;\r\n                setBook(book)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, book_id, request ])\r\n\r\n    const getAuthor = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/authors/${book_id}`).then(res => {\r\n                const authors = res.data;\r\n                setAuthors(authors)\r\n            })\r\n\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, book_id, request ])\r\n\r\n    const getPub = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/publishers/${book_id}`).then(res => {\r\n                const pubs = res.data;\r\n                setPub(pubs)\r\n            })\r\n\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, book_id, request ])\r\n\r\n    const getCat = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get(`/api/category/${book_id}`).then(res => {\r\n                const cats = res.data;\r\n                setCat(cats)\r\n            })\r\n\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, book_id, request ])\r\n\r\n    useEffect( () =>{\r\n        getBook()\r\n        getAuthor()\r\n        getPub()\r\n        getCat()\r\n    }, [getBook, getAuthor, getPub, getCat])\r\n\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            {!loading && pub && cat && authors && book && <BookCard book={book} authors={authors} pub={pub} cat={ cat} />}\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { $host} from \"../http\";\r\n\r\n\r\nexport const MyBooksPage = () =>{\r\n    const {userId, token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [books, setBooks] = useState()\r\n\r\n    const getBooks = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.get('/api/books/profile/myBooks', {\r\n                    params: {\r\n                        id_user: userId\r\n                    },\r\n                    headers:{\r\n                        authorization:\"Bearer \"+token,\r\n                    }\r\n                }\r\n                ).then(res => {\r\n                const books = res.data;\r\n                setBooks(books)\r\n            })\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n    useEffect( () =>{\r\n        getBooks()\r\n    }, [getBooks])\r\n\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h5 className=\"text-center color_block\">Мои книги</h5>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n                        {!loading && books && books.map((book, index) => {\r\n                            return(\r\n                                <div className=\"col-md-4 mb-3\">\r\n                                    <div className=\"card catalog\" key={index}>\r\n                                        <Link className=\"Nav_link\" to={`/books/${book.id_book}`}> <h2>{book.title}</h2></Link>\r\n                                        <div className=\"card-body\">\r\n                                            <p>{book.demo}</p>\r\n                                            <div className=\"row\">\r\n                                                <Link className=\"Nav_link col-6\"  to={`/book/delete/${book.id_book}`}>\r\n                                                    <img className=\"logo del\" src=\"/images/garbage.png\"/>\r\n                                                </Link>\r\n                                                <Link className=\"Nav_link col-6 \" to={`/book/edit/${book.id_book}`}>\r\n                                                    <img className=\"logo edit\" src=\"/images/edit.png\"/>\r\n                                                </Link>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {Link, useHistory, useParams} from \"react-router-dom\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const DeletePage = () =>{\r\n    const message = useMessage()\r\n    const history = useHistory()\r\n    const {token, userId} = useContext(AuthContext)\r\n    const {request, loading, error, clearError} = useHttp()\r\n\r\n    const book_id = useParams().id_book\r\n\r\n    const deleteBook = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.delete(`/api/books/delete/${book_id}`);\r\n            history.push('/profile/myBooks')\r\n        } catch (e){\r\n\r\n        }\r\n    }, [])\r\n\r\n    useEffect( () =>{\r\n        deleteBook()\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    return(\r\n        <>\r\n\r\n        </>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect} from \"react\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const OrderPage = () =>{\r\n    const history = useHistory()\r\n    const {userId, token} = useContext(AuthContext)\r\n    const {request, loading, error, clearError} = useHttp()\r\n\r\n    const book_id = useParams().id_book\r\n\r\n    const order = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.post(`/api/books/toOrder/${book_id}`, {},{\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            });\r\n            history.push('/catalog')\r\n        } catch (e){\r\n\r\n        }\r\n    }, [])\r\n\r\n    useEffect( () =>{\r\n        order()\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n        </>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useEffect} from \"react\";\r\nimport {useMessage} from \"../hooks/message.hook\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {$host} from \"../http\";\r\n\r\nexport const ListPage = () =>{\r\n    const message = useMessage()\r\n    const history = useHistory()\r\n    const {token, userId} = useContext(AuthContext)\r\n    const {request, loading, error, clearError} = useHttp()\r\n\r\n    const book_id = useParams().id_book\r\n\r\n    const order = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await $host.post(`/api/books/toList/${book_id}`,{}, {\r\n                params: {\r\n                    id_user: userId\r\n                },\r\n                headers:{\r\n                    authorization:\"Bearer \"+token,\r\n                }\r\n            })\r\n            history.push('/catalog')\r\n\r\n        } catch (e){\r\n\r\n        }\r\n    }, [])\r\n\r\n    useEffect( () =>{\r\n        order()\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n        </>\r\n    )\r\n}\r\n","import React, {useContext} from 'react'\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\n\r\nexport const Logout =()=> {\r\n    const history = useHistory()\r\n    const auth = useContext(AuthContext)\r\n    const logouthandler = event =>{\r\n        event.preventDefault()\r\n        auth.logout()\r\n        history.push(\"/\")\r\n    }\r\n    if(auth.token){\r\n        return(\r\n            <a className=\"navbar-brand link\" onClick={logouthandler} href=\"/\">LogOut </a>\r\n        )\r\n    }else{\r\n        return (\r\n            <></>\r\n        )\r\n    }\r\n\r\n}\r\n","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'userData'\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null)\r\n    const [userId, setUserId] = useState(null)\r\n\r\n    const login = useCallback((jwtToken, id) => {\r\n        setToken(jwtToken)\r\n        setUserId(id)\r\n\r\n        localStorage.setItem(storageName, JSON.stringify({\r\n            userId: id, token: jwtToken\r\n        }))\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(null)\r\n        setUserId(null)\r\n        localStorage.removeItem(storageName)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const data = JSON.parse(localStorage.getItem(storageName))\r\n\r\n        if(data && data.token) {\r\n            login(data.token, data.userId)\r\n        }\r\n    }, [login])\r\n\r\n\r\n    return { login, logout, token, userId }\r\n}\r\n","import React, {useCallback, useContext, useEffect, useRef, useState} from 'react'\r\nimport {AuthContext} from \"../context/Auth.Context\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\n\r\nexport const Search =()=> {\r\n    const {token} = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [searchTerm, setSearchTerm] = useState(\"\")\r\n    const [books, setBooks] = useState([])\r\n    const [searchResults, setSearchResults] = useState([]);\r\n\r\n    const inputEl = useRef(\"\");\r\n\r\n    const getBooks = useCallback(async ()=>{\r\n        try{\r\n            const fetched = await request(`/api/books/`, 'GET', null, {\r\n                Authorization : `Bearer ${token}`\r\n            })\r\n            setBooks(fetched)\r\n        } catch (e){\r\n\r\n        }\r\n    }, [token, request ])\r\n\r\n\r\n    function onInput(){\r\n        var val = document.getElementById(\"search\").value;\r\n        var opts = document.getElementById('variant').childNodes;\r\n        for (var i = 0; i < opts.length; i++) {\r\n            if (opts[i].value === val) {\r\n               document.location.href =`/books/${opts[i].id}`\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    const searchHandler = () => {\r\n        setSearchTerm(inputEl.current.value);\r\n        if (searchTerm !== \"\") {\r\n            const newList = books.filter((book) => {\r\n                return Object.values(book)\r\n                    .join(\" \")\r\n                    .toLowerCase()\r\n                    .includes(searchTerm.toLowerCase());\r\n            });\r\n            setSearchResults(newList);\r\n\r\n        } else {\r\n            setSearchResults(books);\r\n        }\r\n    };\r\n\r\n    const getSearchTerm = () => {\r\n        setSearchTerm(inputEl.current.value);\r\n    };\r\n\r\n    useEffect( () =>{\r\n        getBooks()\r\n    }, [])\r\n\r\n        return(\r\n            <>\r\n            <div className=\"d-flex col-6\">\r\n                <input className=\"form-control me-2\"\r\n                       ref={inputEl}\r\n                       type=\"search\"\r\n                       id=\"search\"\r\n                       list =\"variant\"\r\n                       name=\"search\"\r\n                       placeholder=\"Search\"\r\n                       aria-label=\"Search\"\r\n                       onChange={searchHandler}\r\n                       onInput={onInput}\r\n                />\r\n                <datalist id=\"variant\">\r\n                    {!loading && searchTerm && searchResults.map((book, index) => {\r\n                        return (\r\n                            <option  value={book.title} id={book.id_book}>\r\n                                {book.title}\r\n                            </option>\r\n                        );\r\n                    })}\r\n                </datalist>\r\n            </div>\r\n            </>\r\n)\r\n\r\n\r\n\r\n}\r\n","import React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nimport {Logout} from \"./Logout\";\r\nimport {Search} from \"./Search\";\r\nexport const NavBar =()=>{\r\n    return(\r\n        <div className=\"fixed-top\">\r\n            <nav className=\"navbar my-0\">\r\n                <a className=\"navbar-brand\"  href=\"#\">\r\n                    <div className=\"v42_250\">\r\n                        <div className=\"v42_251\" style={{backgroundImage: '/images/v42_251.png'}}>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <Link className=\"Nav_link text_align\" to=\"/\">LOVEBOOK</Link>\r\n                </a>\r\n                <Search/>\r\n                <a className=\"navbar-brand\"  href=\"#\">\r\n                    <Link className=\"Nav_link\" to=\"/favs\"><div className=\"v_favs\" style={{backgroundImage: '/images/heart.png'}}>\r\n                    </div></Link>\r\n                </a>\r\n                <a className=\"navbar-brand\"  href=\"#\">\r\n\r\n                    <Link className=\"Nav_link\" to=\"/shop\"><div className=\"v_shop\" style={{backgroundImage: 'shjp.png'}}>\r\n                    </div></Link>\r\n                </a>\r\n                <a className=\"navbar-brand\"  href=\"#\">\r\n\r\n                    <Link className=\"Nav_link\" to=\"/me\"><div className=\"v_me\" style={{backgroundImage: 'images/pers.png'}}>\r\n                    </div></Link>\r\n                </a>\r\n                <Logout/>\r\n            </nav>\r\n            <div className=\"container-fluid\">\r\n                <nav className=\"nav nav-fill\" id=\"light\">\r\n                    <a className=\"nav-item bar\"> <Link className=\"Nav_link\" to=\"/\">ГЛАВНАЯ</Link></a>\r\n                    <a className=\"nav-item bar\"><Link className=\"Nav_link\" to=\"/catalog\">КАТАЛОГ</Link></a>\r\n                    <a className=\"nav-item bar\"><Link className=\"Nav_link\" to=\"/statistic\">СТАТИСТИКА</Link></a>\r\n                    <a className=\"nav-item bar\"><Link className=\"Nav_link\" to=\"/about\">О НАС</Link></a>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n","import React from 'react'\r\n\r\nexport const FootBar =()=> {\r\n    return(\r\n        <nav className=\"navbar fixed-bottom justify-content-center my-0\">\r\n            <div className=\"container justify-content-center\">\r\n                <div className=\"row col-12 justify-content-center\">\r\n                    <h3 className=\"text-center\">Свяжитесь с нами</h3>\r\n                </div>\r\n                <div className=\"row \">\r\n                     <div className=\"v_inst col mx-3\" style={{backgroundImage: '/images/instapng.png'}}>\r\n                    </div>\r\n                    <div className=\"v_vk col mx-3\" style={{backgroundImage: '/images/v43_2.png'}}>\r\n                    </div>\r\n                    <div className=\"v_you col mx-3\" style={{backgroundImage: '/images/youtube-play--v1.png'}}>\r\n                            </div>\r\n                    <div className=\"v_tg col mx-3\" style={{backgroundImage: '/images/telega.png'}}>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row col-12 justify-content-center\">\r\n                    <h5 className=\"text-center\"> ©2021- lovebook - Ваш любимый магазин книг</h5>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport 'materialize-css'\r\nimport { BrowserRouter as Router} from 'react-router-dom';\r\nimport {useRoutes} from \"./routes\";\r\n\r\nimport {useAuth} from \"./hooks/auth.hook\";\r\nimport {AuthContext} from \"./context/Auth.Context\";\r\nimport {NavBar} from \"./components/navBar\";\r\nimport {FootBar} from \"./components/footer\";\r\n\r\n\r\n\r\nfunction App() {\r\n  const {token, login, logout, userId} = useAuth()\r\n    const isAuthenficated = !!token\r\n    const routes = useRoutes(isAuthenficated)\r\n\r\n  return (\r\n      <AuthContext.Provider value={{\r\n      token, login,logout, userId, isAuthenficated\r\n      }}>\r\n        <Router>\r\n            <NavBar/>\r\n            {isAuthenficated}\r\n\r\n              <div className=\"content\">\r\n                  {routes}\r\n              </div>\r\n            <FootBar/>\r\n        </Router>\r\n      </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport {Switch} from 'react-router-dom';\r\nimport {Route} from 'react-router-dom';\r\nimport {Redirect} from 'react-router-dom';\r\nimport { ProfilePage}  from './pages/profile.page.js';\r\nimport { AuthPage } from './pages/auth.page.js';\r\nimport { LoginPage } from './pages/login.page.js';\r\nimport { MainPage } from './pages/main.page.js';\r\nimport {ShopPage} from \"./pages/shop.page\";\r\nimport {FavsPage} from \"./pages/favs.page\";\r\nimport {AboutPage} from \"./pages/about.page\";\r\nimport {CatalogPage} from \"./pages/catalog.page\";\r\nimport {StatPages} from \"./pages/stat.page\";\r\nimport {AddBookPage} from \"./pages/addBook.page\";\r\nimport {EditBookPage} from \"./pages/editBook.page\";\r\nimport {BookPage} from \"./pages/book.page\";\r\nimport {MyBooksPage} from \"./pages/myBooks.page\";\r\nimport {DeletePage} from \"./pages/delete.page\";\r\nimport {OrderPage} from \"./pages/order.page\";\r\nimport {ListPage} from \"./pages/list.page\";\r\nimport {Logout} from \"./components/Logout\";\r\n\r\n\r\n\r\n\r\nexport const useRoutes = isAuthenticated => {\r\n    if(isAuthenticated) {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/profile\" exact>\r\n                    <ProfilePage />\r\n                </Route>\r\n                <Route exact path=\"/me\" component={ProfilePage}/>\r\n                <Route exact path=\"/\" component={MainPage}/>\r\n                <Route exact path=\"/catalog\" component={CatalogPage}/>\r\n                <Route exact path=\"/about\" component={AboutPage}/>\r\n                <Route exact path=\"/statistic\" component={StatPages}/>\r\n\r\n                <Route exact path=\"/toOrder/:id_book\" component={OrderPage}/>\r\n                <Route exact path=\"/shop\" component={ShopPage}/>\r\n\r\n                <Route exact path=\"/toList/:id_book\" component={ListPage}/>\r\n                <Route exact path=\"/favs\" component={FavsPage}/>\r\n\r\n                <Route exact path=\"/book/add\" component={AddBookPage}/>\r\n                <Route exact path=\"/book/edit/:id_book\" component={EditBookPage}/>\r\n                <Route exact path=\"/book/delete/:id_book\" component={DeletePage}/>\r\n\r\n                <Route exact path=\"/books/:id_book\" component={BookPage}/>\r\n                <Route exact path=\"/profile/myBooks\" component={MyBooksPage}/>\r\n\r\n\r\n                <Logout exact/>\r\n\r\n                <Redirect to=\"/profile\"/>\r\n            </Switch>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/register\" exact>\r\n                <AuthPage />\r\n            </Route>\r\n            <Route path=\"/login\" exact>\r\n                <LoginPage />\r\n            </Route>\r\n            <Route exact path=\"/\" component={MainPage}/>\r\n            <Route exact path=\"/catalog\" component={CatalogPage}/>\r\n            <Route exact path=\"/about\" component={AboutPage}/>\r\n            <Route exact path=\"/statistic\" component={StatPages}/>\r\n            <Route exact path=\"/books/:id_book\" component={BookPage}/>\r\n            <Redirect to=\"/login\" />\r\n        </Switch>\r\n    )\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}